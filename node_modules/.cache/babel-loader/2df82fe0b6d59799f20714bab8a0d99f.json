{"ast":null,"code":"import _slicedToArray from\"/home/jacob/Code/tkd-bulletin/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"./components/Navbar\";import\"./Blog.css\";import ReactDOM,{render}from\"react-dom\";import BlogEntries from\"./components/BlogEntries\";import{useState,useEffect,Component}from\"react\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Blog(){// let [newTextArrayEntry, setNewTextArrayEntry] = useState([])\nvar _useState=useState({postContent:\"\"}),_useState2=_slicedToArray(_useState,2),blogPost=_useState2[0],setBlogPost=_useState2[1];// let currentEntry\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),showBlogPost=_useState4[0],setShowBlogPost=_useState4[1];useEffect(function(){axios.get(\"http://localhost:5000/blogposts\").then(function(res){return setShowBlogPost(res.data);})// console.log(showBlogPost)\n.catch(function(err){return console.log(err);});},[]);var writeBlogPostsToPage=showBlogPost===null||showBlogPost===void 0?void 0:showBlogPost.map(function(post){return/*#__PURE__*/_jsx(\"p\",{className:\"blog-entries\",children:post.postContent},post._id);});function onChangeBlogPost(e){e.preventDefault();setBlogPost({postContent:e.target.value});}function onFormSubmit(e){e.preventDefault();console.log(blogPost.postContent);axios.post(\"http://localhost:5000/blogposts/add\",blogPost).then(function(res){return console.log(res.data);});window.location.reload();}if(!showBlogPost){///Renders page after getting data\nreturn null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"blog\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"all-blog-posts\",children:writeBlogPostsToPage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onFormSubmit,id:\"blog-form\",className:\"all-blog-data\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,onChange:onChangeBlogPost,id:\"blog-entry\",type:\"text\",className:\"blog-entry\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"blog-entry-submit-button\",children:\"Submit\"})]})]});}","map":{"version":3,"sources":["/home/jacob/Code/tkd-bulletin/frontend/src/Blog.js"],"names":["Navbar","ReactDOM","render","BlogEntries","useState","useEffect","Component","axios","Blog","postContent","blogPost","setBlogPost","showBlogPost","setShowBlogPost","get","then","res","data","catch","err","console","log","writeBlogPostsToPage","map","post","_id","onChangeBlogPost","e","preventDefault","target","value","onFormSubmit","window","location","reload"],"mappings":"4HAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,QAAP,EAAmBC,MAAnB,KAAiC,WAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,SAA9B,KAA+C,OAA/C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC3B;AACA,cAA8BJ,QAAQ,CAAC,CAACK,WAAW,CAAC,EAAb,CAAD,CAAtC,wCAAKC,QAAL,eAAeC,WAAf,eACA;AACA,eAAsCP,QAAQ,EAA9C,yCAAKQ,YAAL,eAAmBC,eAAnB,eAEAR,SAAS,CAAC,UAAK,CACbE,KAAK,CAACO,GAAN,CAAU,iCAAV,EACGC,IADH,CACQ,SAAAC,GAAG,QAAIH,CAAAA,eAAe,CAACG,GAAG,CAACC,IAAL,CAAnB,EADX,CAEA;AAFA,CAGGC,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAHZ,EAID,CALQ,CAKN,EALM,CAAT,CAOA,GAAMG,CAAAA,oBAAoB,CAAGV,YAAH,SAAGA,YAAH,iBAAGA,YAAY,CAAEW,GAAd,CAAkB,SAAAC,IAAI,CAAG,CACpD,mBAAO,UAAkB,SAAS,CAAC,cAA5B,UAA4CA,IAAI,CAACf,WAAjD,EAAQe,IAAI,CAACC,GAAb,CAAP,CACD,CAF4B,CAA7B,CAKA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA4B,CAC1BA,CAAC,CAACC,cAAF,GACAjB,WAAW,CAAC,CAACF,WAAW,CAAEkB,CAAC,CAACE,MAAF,CAASC,KAAvB,CAAD,CAAX,CACD,CAED,QAASC,CAAAA,YAAT,CAAsBJ,CAAtB,CAAwB,CACtBA,CAAC,CAACC,cAAF,GACAR,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACD,WAArB,EAEAF,KAAK,CAACiB,IAAN,CAAW,qCAAX,CAAkDd,QAAlD,EACCK,IADD,CACM,SAAAC,GAAG,QAAII,CAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACC,IAAhB,CAAJ,EADT,EAEAe,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAED,CAED,GAAG,CAACtB,YAAJ,CAAiB,CAAC;AAChB,MAAO,KAAP,CACD,CAEC,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,KAAC,MAAD,IADJ,cAEI,YAAK,SAAS,CAAC,gBAAf,UACGU,oBADH,EAFJ,cAMI,cAAM,QAAQ,CAAES,YAAhB,CAA8B,EAAE,CAAC,WAAjC,CAA6C,SAAS,CAAC,eAAvD,wBACI,cAAO,QAAQ,KAAf,CAAgB,QAAQ,CAAEL,gBAA1B,CAA4C,EAAE,CAAC,YAA/C,CAA4D,IAAI,CAAC,MAAjE,CAAwE,SAAS,CAAC,YAAlF,EADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAC,0BAAzB,oBAFJ,GANJ,GADJ,CAaD","sourcesContent":["import Navbar from \"./components/Navbar\"\nimport \"./Blog.css\"\nimport ReactDOM, { render } from \"react-dom\"\nimport BlogEntries from \"./components/BlogEntries\"\nimport { useState, useEffect, Component } from \"react\";\nimport axios from 'axios';\n\n\nexport default function Blog() {\n    // let [newTextArrayEntry, setNewTextArrayEntry] = useState([])\n    let [blogPost, setBlogPost] = useState({postContent:\"\"})\n    // let currentEntry\n    let [showBlogPost, setShowBlogPost] = useState()\n    \n    useEffect(() =>{\n      axios.get(\"http://localhost:5000/blogposts\")\n        .then(res => setShowBlogPost(res.data))\n      // console.log(showBlogPost)\n        .catch(err => console.log(err))\n    }, [])\n\n    const writeBlogPostsToPage = showBlogPost?.map(post =>{\n      return <p key={post._id} className=\"blog-entries\">{post.postContent}</p>\n    })\n\n\n    function onChangeBlogPost(e){\n      e.preventDefault()\n      setBlogPost({postContent: e.target.value})\n    }\n\n    function onFormSubmit(e){\n      e.preventDefault()\n      console.log(blogPost.postContent)\n\n      axios.post(\"http://localhost:5000/blogposts/add\", blogPost)\n      .then(res => console.log(res.data))\n      window.location.reload()\n\n    }\n\n    if(!showBlogPost){///Renders page after getting data\n      return null\n    }\n\n      return(\n          <div className=\"blog\">\n              <Navbar />\n              <div className=\"all-blog-posts\">\n                {writeBlogPostsToPage}\n              </div>\n\n              <form onSubmit={onFormSubmit} id=\"blog-form\" className=\"all-blog-data\">\n                  <input required onChange={onChangeBlogPost} id=\"blog-entry\" type=\"text\" className=\"blog-entry\" />\n                  <button type=\"submit\" id=\"blog-entry-submit-button\">Submit</button>\n              </form>\n          </div>\n      )\n    }\n\n\n"]},"metadata":{},"sourceType":"module"}